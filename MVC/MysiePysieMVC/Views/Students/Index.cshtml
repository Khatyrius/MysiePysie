@model IEnumerable<MysiePysieMVC.Models.Student>

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Studenci</h2>

<p>
    @Html.ActionLink("Dodaj studenta", "New", "Students", null, new { @class = "btn btn-primary" })
</p>
<table class="table table-bordered table-hover">
    <thead>
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.id)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.forename)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.surname)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.age)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.status)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.@class)
        </th>
        <th>
            Edytcja
        </th>
        <th>
            Usuwanie
        </th>
    </tr>
    </thead>
    <tbody>
    @foreach (var item in Model)
    {
<tr>
    <td>
        @Html.DisplayFor(modelItem => item.id)
    </td>
    <td>
        @Html.DisplayFor(modelItem => item.forename)
    </td>
    <td>
        @Html.DisplayFor(modelItem => item.surname)
    </td>
    <td>
        @Html.DisplayFor(modelItem => item.age)
    </td>
    <td>
        @Html.DisplayFor(modelItem => item.status)
    </td>
    @if(item.@class != null)
    {
        <td>     
            @Html.DisplayFor(modelItem => item.@class.name)
        </td>
    }
    else
    {
        <td>
            Nie przypisano
        </td>
    }

    <td>
        @Html.ActionLink("Edytuj", 
                         "Edit",
                         "Students",
                         new { studentId = item.id },
                         null)
    </td>

    <td>
        @Html.ActionLink("Usuń", 
                         "DeleteStudent",
                         "Students",
                         new { studentId = item.id},
                         null)
    </td>
</tr>
        <tr>
            <td>
                @Html.ValidationSummary(true, "", new { @class = "text-danger" })
            </td>
        </tr>
    }
    </tbody>

</table>
